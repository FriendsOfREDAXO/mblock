<?php

// ðŸŽ¯ MBlock 4.0 - Modernisiertes Team-Member Beispiel mit MForm 8 und Namespace

use FriendsOfRedaxo\MForm;
use FriendsOfRedaxo\MBlock\MBlock;

// base ID
$id = 1;

// init mform mit moderner MForm 8 Syntax
$mform = MForm::factory();

// fieldset
$mform->addFieldsetArea('Team member');

// textinput
$mform->addTextField("$id.0.name", array('label'=>'Name')); // use string for x.0 json values

// Media-ID 1 fÃ¼r ersten MBlock
$mform->addMediaField(1, array('label'=>'Avatar')); 

// position field
$mform->addTextField("$id.0.position", array('label'=>'Position'));

// email field  
$mform->addTextField("$id.0.email", array('label'=>'E-Mail'));

// ðŸ†• MBlock 4.0 - Online/Offline Status (hidden field fÃ¼r Toggle-Funktion)
$mform->addTextField("$id.0.mblock_offline", array(
    'type' => 'hidden',
    'value' => '0'  // 0 = online, 1 = offline
));

// MBlock anzeigen mit Namespace (empfohlen ab v4.0)
echo MBlock::show($id, $mform->show(), array(
    'min'=>2,
    'max'=>4
));

?>
