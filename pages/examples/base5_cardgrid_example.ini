MBlock::CARDGRID-EXAMPLE::Cardgrid-Example mit Tabs und erweiterten Features::mblock_example_base_cardgrid_example

### Modul-Eingabe

```php
<?php
use FriendsOfRedaxo\MForm;

$id = 1;
$MBlock = MForm::factory()
->addTabElement('Cards', MForm::factory()
    ->addTextField("$id.0.header", array(
        'label' => 'Header:',
    ))
    ->addMediaField(1, array(
        'label' => '<i class="fa fa-file" aria-hidden="true"></i> Medium',
        'preview' => '1'
    ))
    ->addTextField("$id.0.imageTitle", array(
        'label' => 'Bildinfo:'
    ))
    ->addSelectField("$id.0.crop")
    ->setLabel('Bildzuschnitt:')
    ->setOptions(array(
        '' => 'ja',
        '2' => 'nein',
    ))
    ->addTextAreaField("$id.0.content", array(
        'label' => 'Inhalt:',
        'data-lang' => \Cke5\Utils\Cke5Lang::getUserLang() ,
        'data-profile' => 'default',
        'class' => 'cke5-editor'
    ))
    ->addCustomLinkField("$id.0.1",array('label'=>'Link'))
    ->addTextField("$id.0.LinkText", array(
        'label' => 'Linktext (optional):'
    ))
    ->addTextField("$id.0.mblock_offline", array(
        'label' => 'Offline Status:',
        'value' => '0',
        'type' => 'hidden'
    ))
    ,true,false
)
->addTabElement('Settings für diese Card', MForm::factory()
    ->addSelectField("$id.0.ukWidth")
    ->setLabel('Breite:')
    ->setAttribute('class', 'mo')
    ->setOptions(array(
        'auto@m' => 'automatisch',
        '1-1@m' => '100%',
        '2-3@m' => '66%',
        '1-2@m' => '50%',
        '1-3@m' => '33%',
        '1-4@m' => '25%',
        '1-5@m' => '20%',
        'expand@m' => 'Ausdehnen'
    ))
    ->addSelectField("$id.0.linkdiv")
    ->setLabel('Kachel verlinken')
    ->setAttribute('class', 'selectpicker')
    ->setOptions(array(
        '' => 'Nein',
        'linkdiv' => 'ja'
    ))
    ->addSelectField("$id.0.ukColor")
    ->setLabel('Farbe:')
    ->setAttribute('class', 'selectpicker')
    ->setOptions(array(
        'default' => 'Standard',
        'primary' => 'Hauptfarbe',
        'secondary' => 'Sekundär',
        'muted' => 'Muted',
        'transparent' => 'Transparent',
        'transparent uk-light' => 'Transparent helle Schrift'
    ))
);

$mm = MBlock::show($id, $MBlock->show() , array(
    'max' => 100
));

// settings
$MForm = MForm::factory()
->addTabElement('Cards', MForm::factory()
    ->addHTML($mm), true, false)
->addTabElement('Sektionseinstellung', MForm::factory()
    ->addSelectField("2.0.gutterWidth")
    ->setLabel('Abstand:')
    ->setAttribute('class', 'selectpicker')
    ->setOptions(array(
        'medium' => 'normal',
        'small' => 'eng',
        'large' => 'weit',
        'collapse' => 'entfernen'
    ))
    ->addDescription("Abstände zwischen den 'Cards' verändern")
    ->addMediaField(1, array('label'=>'Hintergrundbild'))
    ->addSelectField("3.0.ukcolor")
    ->setLabel('Farbe:')
    ->setAttribute('class', 'selectpicker')
    ->setOptions(array(
        'default' => 'Standard',
        'primary' => 'Primär',
        'secondary' => 'Sekundär',
        'muted' => 'Muted',
    ))
    ->addCheckboxField("2.0.matchHeight", array(
        1 => 'Ja'
    ) , array(
        'label' => 'Alle gleiche Höhe:'
    ))
    ->addSelectField(14, array(''=>'Standard',' uk-padding-remove'=>'Keine',' uk-padding-small'=>'mittel',' uk-padding-large'=>'groß'), array('label'=>'Abschnitssfüllung', 'class'=>'selectpicker'))
);

echo $MForm->show();
```

### Modul-Ausgabe - Verschiedene Auslese-Möglichkeiten

```php
<?php

// ===== VARIANTE 1: Neue zentrale getDataArray() Methode (empfohlen) =====

// Alle Daten abrufen
$allItems = MBlock::getDataArray("REX_VALUE[1]");
echo '<h3>Alle Items (getDataArray):</h3>';
dump($allItems);

// Nur Online-Blöcke für Frontend
$onlineItems = MBlock::getDataArray("REX_VALUE[1]", 'online');
echo '<h3>Nur Online Items:</h3>';
dump($onlineItems);

// Nur Offline-Blöcke für Backend-Previews
$offlineItems = MBlock::getDataArray("REX_VALUE[1]", 'offline');
echo '<h3>Nur Offline Items:</h3>';
dump($offlineItems);

// ===== VARIANTE 2: Convenience-Methoden =====

// Direkte Methoden für Online/Offline
$onlineItems2 = MBlock::getOnlineDataArray("REX_VALUE[1]");
$offlineItems2 = MBlock::getOfflineDataArray("REX_VALUE[1]");

echo '<h3>Online Items (Convenience-Methode):</h3>';
dump($onlineItems2);

// ===== VARIANTE 3: Legacy Array-Filterung =====

// Falls Array bereits vorhanden (Legacy)
$data = rex_var::toArray("REX_VALUE[1]");
$onlineItemsLegacy = MBlock::getOnlineItems($data);
$offlineItemsLegacy = MBlock::getOfflineItems($data);

echo '<h3>Legacy Methode - Online Items:</h3>';
dump($onlineItemsLegacy);

// ===== VARIANTE 4: Frontend-Ausgabe Beispiel =====

echo '<div class="uk-grid" data-uk-grid>';
foreach($onlineItems as $item) {
    $width = !empty($item['ukWidth']) ? $item['ukWidth'] : '1-3@m';
    $color = !empty($item['ukColor']) ? $item['ukColor'] : 'default';
    $linkdiv = !empty($item['linkdiv']) ? 'linkdiv' : '';
    
    echo '<div class="uk-width-'.$width.'">';
    echo '<div class="uk-card uk-card-'.$color.' '.$linkdiv.'">';
    
    // Header
    if(!empty($item['header'])) {
        echo '<div class="uk-card-header">';
        echo '<h3 class="uk-card-title">'.rex_escape($item['header']).'</h3>';
        echo '</div>';
    }
    
    // Media
    if(!empty($item['REX_MEDIA_1'])) {
        echo '<div class="uk-card-media-top">';
        echo '<img src="'.rex_url::media($item['REX_MEDIA_1']).'" alt="'.rex_escape($item['imageTitle']).'">';
        echo '</div>';
    }
    
    // Body
    if(!empty($item['content'])) {
        echo '<div class="uk-card-body">';
        echo $item['content']; // CKE5 Content
        echo '</div>';
    }
    
    // Footer mit Link
    if(!empty($item['1']) || !empty($item['LinkText'])) {
        echo '<div class="uk-card-footer">';
        $linkText = !empty($item['LinkText']) ? $item['LinkText'] : 'Weiterlesen';
        echo '<a href="'.$item['1'].'" class="uk-button uk-button-text">'.$linkText.'</a>';
        echo '</div>';
    }
    
    echo '</div>';
    echo '</div>';
}
echo '</div>';

// ===== VARIANTE 5: JSON-Ausgabe für JavaScript =====

echo '<script>';
echo 'var mblockData = '.json_encode($onlineItems).';';
echo 'console.log("MBlock Online Data:", mblockData);';
echo '</script>';

// ===== VARIANTE 6: Statistiken =====

$sectionSettings = rex_var::toArray("REX_VALUE[2]"); // Sektionseinstellungen
$backgroundMedia = "REX_MEDIA[1]"; // Hintergrundbild

echo '<h3>Statistiken:</h3>';
echo '<ul>';
echo '<li>Anzahl Online Cards: '.count($onlineItems).'</li>';
echo '<li>Anzahl Offline Cards: '.count($offlineItems).'</li>';
echo '<li>Gesamt Cards: '.count($allItems).'</li>';
echo '<li>Gutter Width: '.($sectionSettings[0]['gutterWidth'] ?? 'medium').'</li>';
echo '<li>Match Height: '.(!empty($sectionSettings[0]['matchHeight']) ? 'Ja' : 'Nein').'</li>';
if(!empty($backgroundMedia)) {
    echo '<li>Hintergrundbild: '.$backgroundMedia.'</li>';
}
echo '</ul>';
```
