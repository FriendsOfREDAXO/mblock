<?php

// ðŸš€ MBlock 4.0 - News/Content Cards mit MForm 8

use FriendsOfRedaxo\MForm;

// base ID
$id = 1;

// init mform mit moderner MForm 8 Syntax
$mform = MForm::factory();

// fieldset
$mform->addFieldset('Content Card');

// title
$mform->addTextField("$id.0.title", array('label'=>'Titel'));

// category select
$mform->addSelectField("$id.0.category", array(
    'label'=>'Kategorie',
    'options'=>array(
        'news' => 'News',
        'event' => 'Event', 
        'blog' => 'Blog',
        'product' => 'Produkt'
    )
));

// teaser text
$mform->addTextAreaField("$id.0.teaser", array('label'=>'Teaser', 'rows'=>3));

// image - Media-ID 3 fÃ¼r Card-Example
$mform->addMediaField(3, array('label'=>'Bild', 'preview'=>true));

// date
$mform->addDateField("$id.0.date", array('label'=>'Datum'));

// priority
$mform->addSelectField("$id.0.priority", array(
    'label'=>'PrioritÃ¤t',
    'options'=>array(
        '1' => 'Hoch',
        '2' => 'Normal',
        '3' => 'Niedrig'
    )
));

// ðŸ†• MBlock 4.0 - Online/Offline Status (hidden field fÃ¼r Toggle-Funktion)
$mform->addHiddenField("$id.0.mblock_offline", '0');

// MBlock anzeigen mit Min/Max (Copy & Paste ist automatisch aktiv)
echo MBlock::show($id, $mform->show(), array(
    'min'=>1,
    'max'=>20
));

?>
